const burger=document.querySelector(".header__burger"),nav=document.querySelector(".nav"),logo=document.querySelector(".main-logo"),body=document.querySelector("body"),navLinks=document.querySelectorAll(".nav__link");burger.addEventListener("click",(function(){body.classList.toggle("lock"),burger.classList.toggle("active"),logo.classList.toggle("active"),nav.classList.toggle("active")}));for(let s=0;s<navLinks.length;s++)navLinks[s].addEventListener("click",(function(){burger.classList.remove("active"),nav.classList.remove("active"),body.classList.remove("lock"),logo.classList.remove("active")}));nav.addEventListener("click",(function(){nav.classList.contains("active")&&!event.target.classList.contains("nav__list")&&(burger.classList.remove("active"),nav.classList.remove("active"),body.classList.remove("lock"),logo.classList.remove("active"))}));let btnPrev=document.querySelector(".prev-page"),btnNext=document.querySelector(".next-page"),btnFirst=document.querySelector(".first-page"),btnLast=document.querySelector(".last-page"),numberOfPage=document.querySelector(".content__number"),itemsPerPage=8,stepBtn=8,pets=[],fullPetsList=[],currentPage=0;const request=new XMLHttpRequest;request.open("GET","./pets.json"),request.onload=()=>{request.response},fetch("./pets.json").then(s=>s.json()).then(s=>{pets=s,fullPetsList=(()=>{let s=[];for(let e=0;e<6;e++){const e=pets;for(let s=pets.length;s>0;s--){let t=Math.floor(Math.random()*s);const i=e.splice(t,1)[0];e.push(i)}s=[...s,...e]}return s})(),fullPetsList=sort863(fullPetsList),createPets(fullPetsList);for(let s=0;s<fullPetsList.length/6;s++){const e=fullPetsList.slice(6*s,6*s+6);for(let t=0;t<6;t++)e.forEach((i,l)=>{i.name===e[t].name&&l!==t&&(document.querySelector(".slider").children[6*s+t].style.border="5px solid red")})}});const createPets=s=>{const e=document.querySelector(".slider");e.innerHTML="",e.innerHTML+=createElements(s)};createElements=s=>{let e="",t=checkStepsPerPage(),i=checkItemsPerPage();for(let l=currentPage*t;l<currentPage*stepBtn+i;l++)switch(l){case 0:e+=`<div class="slider__item" onclick="showPopup(0)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 1:e+=`<div class="slider__item" onclick="showPopup(1)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 2:e+=`<div class="slider__item" onclick="showPopup(2)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 3:e+=`<div class="slider__item" onclick="showPopup(3)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 4:e+=`<div class="slider__item" onclick="showPopup(4)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 5:e+=`<div class="slider__item" onclick="showPopup(5)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 6:e+=`<div class="slider__item" onclick="showPopup(6)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 7:e+=`<div class="slider__item" onclick="showPopup(7)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 8:e+=`<div class="slider__item" onclick="showPopup(8)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 9:e+=`<div class="slider__item" onclick="showPopup(9)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 10:e+=`<div class="slider__item" onclick="showPopup(10)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 11:e+=`<div class="slider__item" onclick="showPopup(11)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 12:e+=`<div class="slider__item" onclick="showPopup(12)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 13:e+=`<div class="slider__item" onclick="showPopup(13)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 14:e+=`<div class="slider__item" onclick="showPopup(14)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 15:e+=`<div class="slider__item" onclick="showPopup(15)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 16:e+=`<div class="slider__item" onclick="showPopup(16)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 17:e+=`<div class="slider__item" onclick="showPopup(17)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 18:e+=`<div class="slider__item" onclick="showPopup(18)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 19:e+=`<div class="slider__item" onclick="showPopup(19)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 20:e+=`<div class="slider__item" onclick="showPopup(20)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 21:e+=`<div class="slider__item" onclick="showPopup(21)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 22:e+=`<div class="slider__item" onclick="showPopup(22)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 23:e+=`<div class="slider__item" onclick="showPopup(23)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 24:e+=`<div class="slider__item" onclick="showPopup(24)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 25:e+=`<div class="slider__item" onclick="showPopup(25)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 26:e+=`<div class="slider__item" onclick="showPopup(26)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 27:e+=`<div class="slider__item" onclick="showPopup(27)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 28:e+=`<div class="slider__item" onclick="showPopup(28)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 29:e+=`<div class="slider__item" onclick="showPopup(29)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 30:e+=`<div class="slider__item" onclick="showPopup(30)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 31:e+=`<div class="slider__item" onclick="showPopup(31)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 32:e+=`<div class="slider__item" onclick="showPopup(32)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 33:e+=`<div class="slider__item" onclick="showPopup(33)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 34:e+=`<div class="slider__item" onclick="showPopup(34)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 35:e+=`<div class="slider__item" onclick="showPopup(35)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 36:e+=`<div class="slider__item" onclick="showPopup(36)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 37:e+=`<div class="slider__item" onclick="showPopup(37)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 38:e+=`<div class="slider__item" onclick="showPopup(38)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 39:e+=`<div class="slider__item" onclick="showPopup(39)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 40:e+=`<div class="slider__item" onclick="showPopup(40)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 41:e+=`<div class="slider__item" onclick="showPopup(41)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 42:e+=`<div class="slider__item" onclick="showPopup(42)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 43:e+=`<div class="slider__item" onclick="showPopup(43)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 44:e+=`<div class="slider__item" onclick="showPopup(44)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 45:e+=`<div class="slider__item" onclick="showPopup(45)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 46:e+=`<div class="slider__item" onclick="showPopup(46)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`;break;case 47:e+=`<div class="slider__item" onclick="showPopup(47)"><div class="slider__wr-pic"><img src="${s[l].img}"\n\t\t\tclass="slider__img" alt="pets"></div><h3 class="slider__title">${s[l].name}</h3><buttun class="slider__btn-popup">Learn more</buttun></div>`}return e},request.send();const nextSlide=()=>{currentPage===48/stepBtn-2?(btnNext.classList.add("disabled"),btnLast.classList.add("disabled"),currentPage++,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList)):0===currentPage?(btnPrev.classList.remove("disabled"),btnFirst.classList.remove("disabled"),currentPage++,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList)):(btnNext.classList.remove("disabled"),btnLast.classList.remove("disabled"),currentPage++,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList))},prevSlide=()=>{1===currentPage?(btnPrev.classList.add("disabled"),btnFirst.classList.add("disabled"),currentPage--,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList)):currentPage===48/stepBtn-1?(btnNext.classList.remove("disabled"),btnLast.classList.remove("disabled"),currentPage--,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList)):(currentPage--,numberOfPage.innerHTML=currentPage+1,createPets(fullPetsList))},firstSlide=()=>{currentPage=0,numberOfPage.innerHTML=currentPage+1,btnNext.classList.remove("disabled"),btnLast.classList.remove("disabled"),btnPrev.classList.add("disabled"),btnFirst.classList.add("disabled"),createPets(fullPetsList)},lastSlide=()=>{currentPage=48/stepBtn-1,numberOfPage.innerHTML=currentPage+1,btnPrev.classList.remove("disabled"),btnFirst.classList.remove("disabled"),btnNext.classList.add("disabled"),btnLast.classList.add("disabled"),createPets(fullPetsList)};btnPrev.addEventListener("click",prevSlide),btnNext.addEventListener("click",nextSlide),btnFirst.addEventListener("click",firstSlide),btnLast.addEventListener("click",lastSlide);const sort863=s=>{let e=[],t=s.length;for(let i=0;i<t/8;i++){const t=[];for(j=0;j<s.length&&!(t.length>=8);j++){!t.some(e=>e.name===s[j].name)&&(t.push(s[j]),s.splice(j,1),j--)}e=[...e,...t]}return s=sort6recursively(s=e)},sort6recursively=s=>{const e=s.length;for(let t=0;t<e/6;t++){const e=s.slice(6*t,6*t+6);for(let i=0;i<6;i++){if(void 0!==e.find((s,t)=>s.name===e[i].name&&t!==i)){const e=6*t+i,l=Math.trunc(e/8);s.splice(8*l,0,s.splice(e,1)[0]),sort6recursively(s)}}}return s},checkItemsPerPage=()=>(document.querySelector("body").offsetWidth>=1280&&(itemsPerPage=8),document.querySelector("body").offsetWidth>=768&&document.querySelector("body").offsetWidth<1280&&(itemsPerPage=6),document.querySelector("body").offsetWidth<768&&(itemsPerPage=3),itemsPerPage),checkStepsPerPage=()=>(document.querySelector("body").offsetWidth>=1280&&(stepBtn=8),document.querySelector("body").offsetWidth>=768&&document.querySelector("body").offsetWidth<1280&&(stepBtn=6),document.querySelector("body").offsetWidth<768&&(stepBtn=3),stepBtn);window.addEventListener("resize",(function(){createPets(fullPetsList)}));let popup=document.querySelector(".popup"),popupContainer=document.querySelector(".popup__container"),popupBtn=document.querySelector(".popup__btn"),popupName=document.querySelector(".popup__name"),popupPic=document.querySelector(".popup__wr-pic"),popupBreed=document.querySelector(".popup__breed"),popupDescription=document.querySelector(".popup__description"),popupAge=document.querySelector(".popup__age"),popupInoculations=document.querySelector(".popup__inoculations"),popupDiseases=document.querySelector(".popup__diseases"),popupParasites=document.querySelector(".popup__parasites");const showPopup=(s=0)=>{popup.classList.add("show"),body.classList.add("lock"),popupName.innerHTML=fullPetsList[s].name,popupPic.innerHTML=`<img src="${fullPetsList[s].img}" class="popup__img" alt="dog's photo">`,popupBreed.innerHTML=`<span class="popup__type">${fullPetsList[s].type} - </span> ${fullPetsList[s].breed}`,popupDescription.innerHTML=fullPetsList[s].description,popupAge.innerHTML+=` <span class="popup__list-text">${fullPetsList[s].age}</span>`,popupInoculations.innerHTML+=` <span class="popup__list-text">${fullPetsList[s].inoculations}</span>`,popupDiseases.innerHTML+=` <span class="popup__list-text">${fullPetsList[s].diseases}</span>`,popupParasites.innerHTML+=` <span class="popup__list-text">${fullPetsList[s].parasites}</span>`},closePopup=()=>{popup.classList.remove("show"),body.classList.remove("lock"),popupAge.innerHTML='<span class="popup__list-title">Age:</span>',popupInoculations.innerHTML='<span class="popup__list-title">Inoculations:</span>',popupDiseases.innerHTML='<span class="popup__list-title">Diseases:</span>',popupParasites.innerHTML='<span class="popup__list-title">Parasites:</span>'};popup.addEventListener("click",(function(s){"popup"==((s=s||window.event).target||s.srcElement).id&&(popup.classList.remove("show"),body.classList.remove("lock"),popupAge.innerHTML='<span class="popup__list-title">Age:</span>',popupInoculations.innerHTML='<span class="popup__list-title">Inoculations:</span>',popupDiseases.innerHTML='<span class="popup__list-title">Diseases:</span>',popupParasites.innerHTML='<span class="popup__list-title">Parasites:</span>')}));